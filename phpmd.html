<html><head> <script> function toggle(id) { var item = document.getElementById(id); item.classList.toggle('hidden'); } </script> <style> @media (min-width: 1366px) { body { max-width: 80%; margin: auto; } } body { font-family: sans-serif; } a { color: #2f838a; } a:hover { color: #333; } em { font-weight: bold; font-style: italic; } h1 { padding: 0.5ex 0.2ex; border-bottom: 2px solid #333; } table { width: 100%; border-spacing: 0; } table tr > th { text-align: left; } table caption { font-weight: bold; padding: 1ex 0.5ex; text-align: left; font-size: 120%; border-bottom: 2px solid #333; } tbody tr:nth-child(odd) { background: rgba(0, 0, 0, 0.08); } tbody tr:hover { background: #ffee99; } thead th { border-bottom: 1px solid #aaa; } table td, table th { padding: 0.5ex; } /* Table 'count' and 'percentage' column */ .t-cnt, .t-pct { width: 5em; } .t-pct { opacity: 0.8; font-style: italic; font-size: 80%; } /* Table bar chart */ .t-bar { height: 0.5ex; margin-top: 0.5ex; background-color: #2f838a; /* rgba(47, 131, 138, 0.2); */ } section, table { margin-bottom: 2em; } #details-link.hidden { display: none; } #details-wrapper.hidden { display: none; } ul.code { margin: 0; padding: 0; } ul.code.hidden { display: none; } ul.code li { display: flex; line-height: 1.4em; font-family: monospace; white-space: nowrap; } ul.code li:nth-child(odd) { background-color: rgba(47, 131, 138, 0.1) } /* Excerpt: Line number */ ul.code .no { width: 5%; min-width: 5em; text-align: right; border-right: 1px solid rgba(47, 131, 138, 0.6); padding-right: 1ex; box-sizing: border-box; } /* Excerpt: Code */ ul.code .cd { padding-left: 1ex; white-space: pre-wrap; box-sizing: border-box; word-wrap: break-word; overflow: hidden; } .hlt { background: #ffee99 !important } .prio { color: #333; float: right; } .indx { padding: 0.5ex 1ex; background-color: #000; color: #fff; text-decoration: none; } .indx:hover { background-color: #2f838a; color: #fff; } /* Problem container */ .prb h3 { padding: 1ex 0.5ex; border-bottom: 2px solid #000; font-size: 95%; margin: 0; } .info-lnk { font-style: italic !important; font-weight: normal !important; text-decoration: none; } .info-lnk.blck { padding: 0.5ex 1ex; background-color: rgba(47, 131, 138, 0.2); } .path-basename { font-weight: bold; } .hlt-info { display: inline-block; padding: 2px 4px; font-style: italic; } .hlt-info.quoted { background-color: #92de71; } .hlt-info.variable { background-color: #a3d2ff; } .hlt-info.method { background-color: #f7c0ff; } .sub-info { padding: 1ex 0.5ex; } /* Handle printer friendly styles */ @media print { body, th { font-size: 10pt; } .hlt-info { padding: 0; background: none; } section, table { margin-bottom: 1em; } h1, h2, h3, table caption { padding: 0.5ex 0.2ex; } .prb h3 { border-bottom: 0.5px solid #aaa; } .t-bar { display: none; } .info-lnk { display: none; } #details-wrapper { display: block !important; font-size: 90% !important; } } </style>
<title>PHPMD Report</title></head><body>

            <header>
                <h1>PHPMD Report</h1>
                Generated at <em>2022-09-08 01:58</em>
                with <a href='https://phpmd.org' target='_blank'>PHP Mess Detector</a>
                on <em>PHP 7.4.30</em>
                on <em>inspiron-5537</em>
            </header>
        <h3>46 problems found</h3><h2>Summary</h2><section><table><caption>By priority</caption><thead><tr><th>Count</th><th>%</th><th>Priority</th></tr></thead><tr> <td class='t-cnt'>35</td> <td class='t-pct'>76.1 %</td> <th class='t-n'>Top (1)<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>11</td> <td class='t-pct'>23.9 %</td> <th class='t-n'>Moderate (3)<div class="t-bar" style="width: 31%; opacity: 0.51"></div></th> </tr></table></section>
<section><table><caption>By namespace</caption><thead><tr><th>Count</th><th>%</th><th>PHP Namespace</th></tr></thead><tr> <td class='t-cnt'>2</td> <td class='t-pct'>50.0 %</td> <th class='t-n'>Scandiweb\App\Http\Headers<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>1</td> <td class='t-pct'>25.0 %</td> <th class='t-n'>Scandiweb\App\Http\Request<div class="t-bar" style="width: 50%; opacity: 0.70"></div></th> </tr><tr> <td class='t-cnt'>1</td> <td class='t-pct'>25.0 %</td> <th class='t-n'>Scandiweb\App\Http\Response<div class="t-bar" style="width: 50%; opacity: 0.70"></div></th> </tr></table></section>
<section><table><caption>By rule set</caption><thead><tr><th>Count</th><th>%</th><th>Rule set</th></tr></thead><tr> <td class='t-cnt'>46</td> <td class='t-pct'>100.0 %</td> <th class='t-n'>Clean Code Rules<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr></table></section>
<section><table><caption>By name</caption><thead><tr><th>Count</th><th>%</th><th>Rule name</th></tr></thead><tr> <td class='t-cnt'>17</td> <td class='t-pct'>37.0 %</td> <th class='t-n'>StaticAccess<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>11</td> <td class='t-pct'>23.9 %</td> <th class='t-n'>UndefinedVariable<div class="t-bar" style="width: 64%; opacity: 0.85"></div></th> </tr><tr> <td class='t-cnt'>5</td> <td class='t-pct'>10.9 %</td> <th class='t-n'>ElseExpression<div class="t-bar" style="width: 29%; opacity: 0.49"></div></th> </tr><tr> <td class='t-cnt'>5</td> <td class='t-pct'>10.9 %</td> <th class='t-n'>BooleanArgumentFlag<div class="t-bar" style="width: 29%; opacity: 0.49"></div></th> </tr><tr> <td class='t-cnt'>4</td> <td class='t-pct'>8.7 %</td> <th class='t-n'>IfStatementAssignment<div class="t-bar" style="width: 23%; opacity: 0.44"></div></th> </tr><tr> <td class='t-cnt'>4</td> <td class='t-pct'>8.7 %</td> <th class='t-n'>MissingImport<div class="t-bar" style="width: 23%; opacity: 0.44"></div></th> </tr></table></section>
<h2 style='page-break-before: always'>Details</h2>
            <a
                id='details-link'
                class='info-lnk blck'
                href='#'
                onclick='toggle("details-link"); toggle("details-wrapper"); return false;'
            >
            Show details &#x25BC;
        </a><div id='details-wrapper' class='hidden'> <section class='prb' id='p-0'> <header> <h3> <a href='#p-0' class='indx'>#1</a> The <span class='hlt-info method'>method transformToStorableModel</span> uses an else expression. Else clauses are basically not necessary and you can simplify the code by not using them. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#elseexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Transformers/RecievableProductDataTransformer.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Transformers/<span class='path-basename'>RecievableProductDataTransformer.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-0-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-0-code'><li><div class='no'>14</div><div class='cd'>            ) {</div></li><li><div class='no'>15</div><div class='cd'>                $storableModel['productAttributes'] = $requestBody-&gt;ProductAttributes;</div></li><li class='hlt'><div class='no'>16</div><div class='cd'>            } else {</div></li><li><div class='no'>17</div><div class='cd'>                $storableModel['productData'][$key] = $value;</div></li><li><div class='no'>18</div><div class='cd'>            }</div></li></ul> </section>
 <section class='prb' id='p-1'> <header> <h3> <a href='#p-1' class='indx'>#2</a> Avoid using static access to class <span class='hlt-info quoted'>'\Respect\Validation\Validator'</span> in <span class='hlt-info method'>method 'validate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Validation/ProductValidator.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Validation/<span class='path-basename'>ProductValidator.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-1-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-1-code'><li><div class='no'>24</div><div class='cd'>            $requestBodyValidator = v::attribute('SKU', v::alnum('-')-&gt;noWhitespace()-&gt;length(6, 12, true))</div></li><li><div class='no'>25</div><div class='cd'>                -&gt;attribute('Name', v::alnum(' ')-&gt;length(1, 255, true))</div></li><li class='hlt'><div class='no'>26</div><div class='cd'>                -&gt;attribute('Price', v::floatType())</div></li><li><div class='no'>27</div><div class='cd'>                -&gt;attribute(</div></li><li><div class='no'>28</div><div class='cd'>                    'FK_ProductType',</div></li></ul> </section>
 <section class='prb' id='p-2'> <header> <h3> <a href='#p-2' class='indx'>#3</a> Avoid using static access to class <span class='hlt-info quoted'>'\Respect\Validation\Validator'</span> in <span class='hlt-info method'>method 'validate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Validation/ProductValidator.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Validation/<span class='path-basename'>ProductValidator.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-2-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-2-code'><li><div class='no'>27</div><div class='cd'>                -&gt;attribute(</div></li><li><div class='no'>28</div><div class='cd'>                    'FK_ProductType',</div></li><li class='hlt'><div class='no'>29</div><div class='cd'>                    v::in($productTypes)</div></li><li><div class='no'>30</div><div class='cd'>                );</div></li><li><div class='no'>31</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-3'> <header> <h3> <a href='#p-3' class='indx'>#4</a> Avoid using static access to class <span class='hlt-info quoted'>'\Respect\Validation\Validator'</span> in <span class='hlt-info method'>method 'validate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Validation/ProductValidator.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Validation/<span class='path-basename'>ProductValidator.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-3-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-3-code'><li><div class='no'>37</div><div class='cd'></div></li><li><div class='no'>38</div><div class='cd'>            if (false === $productTypeAttributes-&gt;isEmpty()) {</div></li><li class='hlt'><div class='no'>39</div><div class='cd'>                $productAttributesValidator = v::type('object');</div></li><li><div class='no'>40</div><div class='cd'>    </div></li><li><div class='no'>41</div><div class='cd'>                foreach ($productTypeAttributes as $record) {</div></li></ul> </section>
 <section class='prb' id='p-4'> <header> <h3> <a href='#p-4' class='indx'>#5</a> Avoid using static access to class <span class='hlt-info quoted'>'\Respect\Validation\Validator'</span> in <span class='hlt-info method'>method 'validate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Validation/ProductValidator.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Validation/<span class='path-basename'>ProductValidator.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-4-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-4-code'><li><div class='no'>43</div><div class='cd'>                        $productAttributesValidator-&gt;attribute(</div></li><li><div class='no'>44</div><div class='cd'>                            $record-&gt;AttributeName,</div></li><li class='hlt'><div class='no'>45</div><div class='cd'>                            v::type($record-&gt;BackendDataType)</div></li><li><div class='no'>46</div><div class='cd'>                        );</div></li><li><div class='no'>47</div><div class='cd'>                    }</div></li></ul> </section>
 <section class='prb' id='p-5'> <header> <h3> <a href='#p-5' class='indx'>#6</a> Avoid using static access to class <span class='hlt-info quoted'>'\Respect\Validation\Validator'</span> in <span class='hlt-info method'>method 'validate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Validation/ProductValidator.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Validation/<span class='path-basename'>ProductValidator.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-5-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-5-code'><li><div class='no'>49</div><div class='cd'>                        $productAttributesValidator-&gt;attribute(</div></li><li><div class='no'>50</div><div class='cd'>                            $record-&gt;AttributeName,</div></li><li class='hlt'><div class='no'>51</div><div class='cd'>                            v::type($record-&gt;BackendDataType),</div></li><li><div class='no'>52</div><div class='cd'>                            false // to let the validator know its optional</div></li><li><div class='no'>53</div><div class='cd'>                        );</div></li></ul> </section>
 <section class='prb' id='p-6'> <header> <h3> <a href='#p-6' class='indx'>#7</a> Avoid using static access to class <span class='hlt-info quoted'>'\Respect\Validation\Validator'</span> in <span class='hlt-info method'>method 'validate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Data/Validation/ProductValidator.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Data/Validation/<span class='path-basename'>ProductValidator.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-6-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-6-code'><li><div class='no'>55</div><div class='cd'>                }</div></li><li><div class='no'>56</div><div class='cd'>                </div></li><li class='hlt'><div class='no'>57</div><div class='cd'>                $requestBodyValidator = v::attribute(</div></li><li><div class='no'>58</div><div class='cd'>                    'ProductAttributes',</div></li><li><div class='no'>59</div><div class='cd'>                    $productAttributesValidator</div></li></ul> </section>
 <section class='prb' id='p-7'> <header> <h3> <a href='#p-7' class='indx'>#8</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'getAll'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-7-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-7-code'><li><div class='no'>41</div><div class='cd'></div></li><li><div class='no'>42</div><div class='cd'>        $this-&gt;response-&gt;setContent(</div></li><li class='hlt'><div class='no'>43</div><div class='cd'>            JSON::encode(</div></li><li><div class='no'>44</div><div class='cd'>                [</div></li><li><div class='no'>45</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_OK,</div></li></ul> </section>
 <section class='prb' id='p-8'> <header> <h3> <a href='#p-8' class='indx'>#9</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-8-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-8-code'><li><div class='no'>44</div><div class='cd'>                [</div></li><li><div class='no'>45</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_OK,</div></li><li class='hlt'><div class='no'>46</div><div class='cd'>                    &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_OK],</div></li><li><div class='no'>47</div><div class='cd'>                    &quot;data&quot;      =&gt; $productsCollection,</div></li><li><div class='no'>48</div><div class='cd'>                ]</div></li></ul> </section>
 <section class='prb' id='p-9'> <header> <h3> <a href='#p-9' class='indx'>#10</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'isValidSKU'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-9-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-9-code'><li><div class='no'>78</div><div class='cd'></div></li><li><div class='no'>79</div><div class='cd'>        $this-&gt;response-&gt;setContent(</div></li><li class='hlt'><div class='no'>80</div><div class='cd'>            JSON::encode(</div></li><li><div class='no'>81</div><div class='cd'>                [</div></li><li><div class='no'>82</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_OK,</div></li></ul> </section>
 <section class='prb' id='p-10'> <header> <h3> <a href='#p-10' class='indx'>#11</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-10-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-10-code'><li><div class='no'>81</div><div class='cd'>                [</div></li><li><div class='no'>82</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_OK,</div></li><li class='hlt'><div class='no'>83</div><div class='cd'>                    &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_OK],</div></li><li><div class='no'>84</div><div class='cd'>                    &quot;data&quot;      =&gt; $isValidSKU,</div></li><li><div class='no'>85</div><div class='cd'>                ]</div></li></ul> </section>
 <section class='prb' id='p-11'> <header> <h3> <a href='#p-11' class='indx'>#12</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'addNew'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-11-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-11-code'><li><div class='no'>92</div><div class='cd'>    public function addNew(): ResponseInterface</div></li><li><div class='no'>93</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>94</div><div class='cd'>        $requestBody = JSON::decode($this-&gt;request-&gt;getBody());</div></li><li><div class='no'>95</div><div class='cd'></div></li><li><div class='no'>96</div><div class='cd'>        $validationResult = $this-&gt;productValidator-&gt;validate($requestBody);</div></li></ul> </section>
 <section class='prb' id='p-12'> <header> <h3> <a href='#p-12' class='indx'>#13</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'addNew'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-12-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-12-code'><li><div class='no'>111</div><div class='cd'></div></li><li><div class='no'>112</div><div class='cd'>        $this-&gt;response-&gt;setContent(</div></li><li class='hlt'><div class='no'>113</div><div class='cd'>            JSON::encode(</div></li><li><div class='no'>114</div><div class='cd'>                [</div></li><li><div class='no'>115</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_CREATED,</div></li></ul> </section>
 <section class='prb' id='p-13'> <header> <h3> <a href='#p-13' class='indx'>#14</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-13-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-13-code'><li><div class='no'>114</div><div class='cd'>                [</div></li><li><div class='no'>115</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_CREATED,</div></li><li class='hlt'><div class='no'>116</div><div class='cd'>                    &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_CREATED],</div></li><li><div class='no'>117</div><div class='cd'>                    &quot;data&quot;      =&gt; $created,</div></li><li><div class='no'>118</div><div class='cd'>                ]</div></li></ul> </section>
 <section class='prb' id='p-14'> <header> <h3> <a href='#p-14' class='indx'>#15</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'massDelete'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-14-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-14-code'><li><div class='no'>125</div><div class='cd'>    public function massDelete(): ResponseInterface</div></li><li><div class='no'>126</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>127</div><div class='cd'>        $requestBody = JSON::decode($this-&gt;request-&gt;getBody());</div></li><li><div class='no'>128</div><div class='cd'>        </div></li><li><div class='no'>129</div><div class='cd'>        $validationResult = $this-&gt;productValidator-&gt;validateProductsDestroy($requestBody);</div></li></ul> </section>
 <section class='prb' id='p-15'> <header> <h3> <a href='#p-15' class='indx'>#16</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'massDelete'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-15-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-15-code'><li><div class='no'>140</div><div class='cd'></div></li><li><div class='no'>141</div><div class='cd'>        $this-&gt;response-&gt;setContent(</div></li><li class='hlt'><div class='no'>142</div><div class='cd'>            JSON::encode(</div></li><li><div class='no'>143</div><div class='cd'>                [</div></li><li><div class='no'>144</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_ACCEPTED,</div></li></ul> </section>
 <section class='prb' id='p-16'> <header> <h3> <a href='#p-16' class='indx'>#17</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-16-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-16-code'><li><div class='no'>143</div><div class='cd'>                [</div></li><li><div class='no'>144</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_ACCEPTED,</div></li><li class='hlt'><div class='no'>145</div><div class='cd'>                    &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_ACCEPTED],</div></li><li><div class='no'>146</div><div class='cd'>                    &quot;data&quot;      =&gt; $destroyed,</div></li><li><div class='no'>147</div><div class='cd'>                ]</div></li></ul> </section>
 <section class='prb' id='p-17'> <header> <h3> <a href='#p-17' class='indx'>#18</a> Avoid using static access to class <span class='hlt-info quoted'>'\Scandiweb\Util\JSON'</span> in <span class='hlt-info method'>method 'getAll'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductTypeController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductTypeController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-17-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-17-code'><li><div class='no'>37</div><div class='cd'></div></li><li><div class='no'>38</div><div class='cd'>        $this-&gt;response-&gt;setContent(</div></li><li class='hlt'><div class='no'>39</div><div class='cd'>            JSON::encode(</div></li><li><div class='no'>40</div><div class='cd'>                [</div></li><li><div class='no'>41</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_OK,</div></li></ul> </section>
 <section class='prb' id='p-18'> <header> <h3> <a href='#p-18' class='indx'>#19</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Controllers/ProductTypeController.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Controllers/<span class='path-basename'>ProductTypeController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-18-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-18-code'><li><div class='no'>40</div><div class='cd'>                [</div></li><li><div class='no'>41</div><div class='cd'>                    &quot;code&quot;      =&gt; Response::HTTP_OK,</div></li><li class='hlt'><div class='no'>42</div><div class='cd'>                    &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_OK],</div></li><li><div class='no'>43</div><div class='cd'>                    &quot;data&quot;      =&gt; $productTypesCollection,</div></li><li><div class='no'>44</div><div class='cd'>                ]</div></li></ul> </section>
 <section class='prb' id='p-19'> <header> <h3> <a href='#p-19' class='indx'>#20</a> The <span class='hlt-info method'>method get</span> has a boolean flag argument <span class='hlt-info variable'>$first</span>, which is a certain sign of a Single Responsibility Principle violation. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#booleanargumentflag' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/Contracts/HeadersBagInterface.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/Contracts/<span class='path-basename'>HeadersBagInterface.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-19-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-19-code'><li><div class='no'>9</div><div class='cd'>    public function replace(array $headers = []);</div></li><li><div class='no'>10</div><div class='cd'>    public function add(array $headers);</div></li><li class='hlt'><div class='no'>11</div><div class='cd'>    public function get($key, $default = null, $first = true);</div></li><li><div class='no'>12</div><div class='cd'>    public function set($key, $values, $replace = true);</div></li><li><div class='no'>13</div><div class='cd'>    public function has($key);</div></li></ul> </section>
 <section class='prb' id='p-20'> <header> <h3> <a href='#p-20' class='indx'>#21</a> The <span class='hlt-info method'>method set</span> has a boolean flag argument <span class='hlt-info variable'>$replace</span>, which is a certain sign of a Single Responsibility Principle violation. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#booleanargumentflag' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/Contracts/HeadersBagInterface.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/Contracts/<span class='path-basename'>HeadersBagInterface.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-20-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-20-code'><li><div class='no'>10</div><div class='cd'>    public function add(array $headers);</div></li><li><div class='no'>11</div><div class='cd'>    public function get($key, $default = null, $first = true);</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>    public function set($key, $values, $replace = true);</div></li><li><div class='no'>13</div><div class='cd'>    public function has($key);</div></li><li><div class='no'>14</div><div class='cd'>    public function contains($key, $value);</div></li></ul> </section>
 <section class='prb' id='p-21'> <header> <h3> <a href='#p-21' class='indx'>#22</a> The <span class='hlt-info method'>method get</span> has a boolean flag argument <span class='hlt-info variable'>$first</span>, which is a certain sign of a Single Responsibility Principle violation. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#booleanargumentflag' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-21-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-21-code'><li><div class='no'>74</div><div class='cd'>     * @return string|string[]|null The first header value or default value if $first is true, an array of values otherwise</div></li><li><div class='no'>75</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>76</div><div class='cd'>    public function get($key, $default = null, $first = true)</div></li><li><div class='no'>77</div><div class='cd'>    {</div></li><li><div class='no'>78</div><div class='cd'>        $key = str_replace('_', '-', strtolower($key));</div></li></ul> </section>
 <section class='prb' id='p-22'> <header> <h3> <a href='#p-22' class='indx'>#23</a> The <span class='hlt-info method'>method set</span> has a boolean flag argument <span class='hlt-info variable'>$replace</span>, which is a certain sign of a Single Responsibility Principle violation. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#booleanargumentflag' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-22-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-22-code'><li><div class='no'>101</div><div class='cd'>     * @param bool            $replace Whether to replace the actual value or not (true by default)</div></li><li><div class='no'>102</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>103</div><div class='cd'>    public function set($key, $values, $replace = true)</div></li><li><div class='no'>104</div><div class='cd'>    {</div></li><li><div class='no'>105</div><div class='cd'>        $key = str_replace('_', '-', strtolower($key));</div></li></ul> </section>
 <section class='prb' id='p-23'> <header> <h3> <a href='#p-23' class='indx'>#24</a> The <span class='hlt-info method'>method set</span> uses an else expression. Else clauses are basically not necessary and you can simplify the code by not using them. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#elseexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-23-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-23-code'><li><div class='no'>110</div><div class='cd'>            if (true === $replace || !isset($this-&gt;headers[$key])) {</div></li><li><div class='no'>111</div><div class='cd'>                $this-&gt;headers[$key] = $values;</div></li><li class='hlt'><div class='no'>112</div><div class='cd'>            } else {</div></li><li><div class='no'>113</div><div class='cd'>                $this-&gt;headers[$key] = array_merge($this-&gt;headers[$key], $values);</div></li><li><div class='no'>114</div><div class='cd'>            }</div></li></ul> </section>
 <section class='prb' id='p-24'> <header> <h3> <a href='#p-24' class='indx'>#25</a> The <span class='hlt-info method'>method set</span> uses an else expression. Else clauses are basically not necessary and you can simplify the code by not using them. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#elseexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-24-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-24-code'><li><div class='no'>113</div><div class='cd'>                $this-&gt;headers[$key] = array_merge($this-&gt;headers[$key], $values);</div></li><li><div class='no'>114</div><div class='cd'>            }</div></li><li class='hlt'><div class='no'>115</div><div class='cd'>        } else {</div></li><li><div class='no'>116</div><div class='cd'>            if (true === $replace || !isset($this-&gt;headers[$key])) {</div></li><li><div class='no'>117</div><div class='cd'>                $this-&gt;headers[$key] = [$values];</div></li></ul> </section>
 <section class='prb' id='p-25'> <header> <h3> <a href='#p-25' class='indx'>#26</a> The <span class='hlt-info method'>method set</span> uses an else expression. Else clauses are basically not necessary and you can simplify the code by not using them. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#elseexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-25-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-25-code'><li><div class='no'>116</div><div class='cd'>            if (true === $replace || !isset($this-&gt;headers[$key])) {</div></li><li><div class='no'>117</div><div class='cd'>                $this-&gt;headers[$key] = [$values];</div></li><li class='hlt'><div class='no'>118</div><div class='cd'>            } else {</div></li><li><div class='no'>119</div><div class='cd'>                $this-&gt;headers[$key][] = $values;</div></li><li><div class='no'>120</div><div class='cd'>            }</div></li></ul> </section>
 <section class='prb' id='p-26'> <header> <h3> <a href='#p-26' class='indx'>#27</a> Avoid assigning values to variables in if clauses and the like (line <span class='hlt-info quoted'>'177'</span>, column <span class='hlt-info quoted'>'22'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#ifstatementassignment' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-26-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-26-code'><li><div class='no'>173</div><div class='cd'>     * @throws \RuntimeException When the HTTP header is not parseable</div></li><li><div class='no'>174</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>175</div><div class='cd'>    public function getDate($key, \DateTime $default = null)</div></li><li><div class='no'>176</div><div class='cd'>    {</div></li><li><div class='no'>177</div><div class='cd'>        if (null === $value = $this-&gt;get($key)) {</div></li></ul> </section>
 <section class='prb' id='p-27'> <header> <h3> <a href='#p-27' class='indx'>#28</a> Avoid assigning values to variables in if clauses and the like (line <span class='hlt-info quoted'>'181'</span>, column <span class='hlt-info quoted'>'23'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#ifstatementassignment' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-27-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-27-code'><li><div class='no'>173</div><div class='cd'>     * @throws \RuntimeException When the HTTP header is not parseable</div></li><li><div class='no'>174</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>175</div><div class='cd'>    public function getDate($key, \DateTime $default = null)</div></li><li><div class='no'>176</div><div class='cd'>    {</div></li><li><div class='no'>177</div><div class='cd'>        if (null === $value = $this-&gt;get($key)) {</div></li></ul> </section>
 <section class='prb' id='p-28'> <header> <h3> <a href='#p-28' class='indx'>#29</a> Avoid using static access to class <span class='hlt-info quoted'>'\DateTime'</span> in <span class='hlt-info method'>method 'getDate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-28-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-28-code'><li><div class='no'>179</div><div class='cd'>        }</div></li><li><div class='no'>180</div><div class='cd'></div></li><li class='hlt'><div class='no'>181</div><div class='cd'>        if (false === $date = \DateTime::createFromFormat(DATE_RFC2822, $value)) {</div></li><li><div class='no'>182</div><div class='cd'>            throw new \RuntimeException(sprintf('The %s HTTP header is not parseable (%s).', $key, $value));</div></li><li><div class='no'>183</div><div class='cd'>        }</div></li></ul> </section>
 <section class='prb' id='p-29'> <header> <h3> <a href='#p-29' class='indx'>#30</a> Missing class import via use statement (line <span class='hlt-info quoted'>'182'</span>, column <span class='hlt-info quoted'>'23'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-29-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-29-code'><li><div class='no'>180</div><div class='cd'></div></li><li><div class='no'>181</div><div class='cd'>        if (false === $date = \DateTime::createFromFormat(DATE_RFC2822, $value)) {</div></li><li class='hlt'><div class='no'>182</div><div class='cd'>            throw new \RuntimeException(sprintf('The %s HTTP header is not parseable (%s).', $key, $value));</div></li><li><div class='no'>183</div><div class='cd'>        }</div></li><li><div class='no'>184</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-30'> <header> <h3> <a href='#p-30' class='indx'>#31</a> Avoid using static access to class <span class='hlt-info quoted'>'\DateTime'</span> in <span class='hlt-info method'>method 'initDate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-30-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-30-code'><li><div class='no'>197</div><div class='cd'>    private function initDate()</div></li><li><div class='no'>198</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>199</div><div class='cd'>        $now = \DateTime::createFromFormat('U', time());</div></li><li><div class='no'>200</div><div class='cd'>        $now-&gt;setTimezone(new \DateTimeZone('UTC'));</div></li><li><div class='no'>201</div><div class='cd'>        $this-&gt;set('Date', $now-&gt;format('D, d M Y H:i:s').' GMT');</div></li></ul> </section>
 <section class='prb' id='p-31'> <header> <h3> <a href='#p-31' class='indx'>#32</a> Missing class import via use statement (line <span class='hlt-info quoted'>'200'</span>, column <span class='hlt-info quoted'>'31'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Headers/HeadersBag.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Headers/<span class='path-basename'>HeadersBag.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-31-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-31-code'><li><div class='no'>198</div><div class='cd'>    {</div></li><li><div class='no'>199</div><div class='cd'>        $now = \DateTime::createFromFormat('U', time());</div></li><li class='hlt'><div class='no'>200</div><div class='cd'>        $now-&gt;setTimezone(new \DateTimeZone('UTC'));</div></li><li><div class='no'>201</div><div class='cd'>        $this-&gt;set('Date', $now-&gt;format('D, d M Y H:i:s').' GMT');</div></li><li><div class='no'>202</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-32'> <header> <h3> <a href='#p-32' class='indx'>#33</a> Avoid using static access to class <span class='hlt-info quoted'>'Scandiweb\App\Http\Routes'</span> in <span class='hlt-info method'>method 'init'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/HttpApp.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/<span class='path-basename'>HttpApp.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-32-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-32-code'><li><div class='no'>57</div><div class='cd'>            -&gt;setHeaders(ResponseInterface::RESPONSE_HEADERS);</div></li><li><div class='no'>58</div><div class='cd'>        </div></li><li class='hlt'><div class='no'>59</div><div class='cd'>        $this-&gt;dispatcher = $this-&gt;registerRoutes(Routes::availableRoutes($this-&gt;request));</div></li><li><div class='no'>60</div><div class='cd'>    }</div></li><li><div class='no'>61</div><div class='cd'>    </div></li></ul> </section>
 <section class='prb' id='p-33'> <header> <h3> <a href='#p-33' class='indx'>#34</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/HttpApp.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/<span class='path-basename'>HttpApp.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-33-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-33-code'><li><div class='no'>73</div><div class='cd'>                $this-&gt;handleNotFoundRequests(</div></li><li><div class='no'>74</div><div class='cd'>                    Response::HTTP_NOT_FOUND,</div></li><li class='hlt'><div class='no'>75</div><div class='cd'>                    Response::$statusTexts[Response::HTTP_NOT_FOUND]</div></li><li><div class='no'>76</div><div class='cd'>                );</div></li><li><div class='no'>77</div><div class='cd'>                break;</div></li></ul> </section>
 <section class='prb' id='p-34'> <header> <h3> <a href='#p-34' class='indx'>#35</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/HttpApp.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/<span class='path-basename'>HttpApp.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-34-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-34-code'><li><div class='no'>80</div><div class='cd'>                $this-&gt;handleMethodNotAllowedRequests(</div></li><li><div class='no'>81</div><div class='cd'>                    Response::HTTP_METHOD_NOT_ALLOWED, </div></li><li class='hlt'><div class='no'>82</div><div class='cd'>                    Response::$statusTexts[Response::HTTP_METHOD_NOT_ALLOWED]</div></li><li><div class='no'>83</div><div class='cd'>                );</div></li><li><div class='no'>84</div><div class='cd'>                break;</div></li></ul> </section>
 <section class='prb' id='p-35'> <header> <h3> <a href='#p-35' class='indx'>#36</a> Avoid assigning values to variables in if clauses and the like (line <span class='hlt-info quoted'>'32'</span>, column <span class='hlt-info quoted'>'23'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#ifstatementassignment' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Request/HttpRequest.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Request/<span class='path-basename'>HttpRequest.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-35-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-35-code'><li><div class='no'>28</div><div class='cd'>     * Strip query string (?foo=bar) and decode URI</div></li><li><div class='no'>29</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>30</div><div class='cd'>    public function removeQueryStringfromUri(): string</div></li><li><div class='no'>31</div><div class='cd'>    {</div></li><li><div class='no'>32</div><div class='cd'>        if (false !== $pos = strpos($this-&gt;requestUri, '?')) {</div></li></ul> </section>
 <section class='prb' id='p-36'> <header> <h3> <a href='#p-36' class='indx'>#37</a> Avoid assigning values to variables in if clauses and the like (line <span class='hlt-info quoted'>'213'</span>, column <span class='hlt-info quoted'>'41'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#ifstatementassignment' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Response/Response.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Response/<span class='path-basename'>Response.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-36-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-36-code'><li><div class='no'>199</div><div class='cd'>     * @return $this</div></li><li><div class='no'>200</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>201</div><div class='cd'>    public function prepare(HttpRequestInterface $request): ResponseInterface</div></li><li><div class='no'>202</div><div class='cd'>    {</div></li><li><div class='no'>203</div><div class='cd'>        $headers = $this-&gt;headers;</div></li></ul> </section>
 <section class='prb' id='p-37'> <header> <h3> <a href='#p-37' class='indx'>#38</a> The <span class='hlt-info method'>method prepare</span> uses an else expression. Else clauses are basically not necessary and you can simplify the code by not using them. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#elseexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Response/Response.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Response/<span class='path-basename'>Response.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-37-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-37-code'><li><div class='no'>207</div><div class='cd'>            $headers-&gt;remove('Content-Type');</div></li><li><div class='no'>208</div><div class='cd'>            $headers-&gt;remove('Content-Length');</div></li><li class='hlt'><div class='no'>209</div><div class='cd'>        } else {</div></li><li><div class='no'>210</div><div class='cd'>            // Content-type based on the Request</div></li><li><div class='no'>211</div><div class='cd'>            if (!$headers-&gt;has('Content-Type')) {</div></li></ul> </section>
 <section class='prb' id='p-38'> <header> <h3> <a href='#p-38' class='indx'>#39</a> Missing class import via use statement (line <span class='hlt-info quoted'>'311'</span>, column <span class='hlt-info quoted'>'23'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Response/Response.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Response/<span class='path-basename'>Response.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-38-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-38-code'><li><div class='no'>309</div><div class='cd'>    {</div></li><li><div class='no'>310</div><div class='cd'>        if (null !== $content &amp;&amp; !\is_string($content) &amp;&amp; !is_numeric($content) &amp;&amp; !\is_callable([$content, '__toString'])) {</div></li><li class='hlt'><div class='no'>311</div><div class='cd'>            throw new \UnexpectedValueException(sprintf('The Response content must be a string or object implementing __toString(), &quot;%s&quot; given.', \gettype($content)));</div></li><li><div class='no'>312</div><div class='cd'>        }</div></li><li><div class='no'>313</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-39'> <header> <h3> <a href='#p-39' class='indx'>#40</a> Missing class import via use statement (line <span class='hlt-info quoted'>'369'</span>, column <span class='hlt-info quoted'>'23'</span>). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Response/Response.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Response/<span class='path-basename'>Response.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-39-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-39-code'><li><div class='no'>367</div><div class='cd'>        $this-&gt;statusCode = $code;</div></li><li><div class='no'>368</div><div class='cd'>        if ($this-&gt;isInvalid()) {</div></li><li class='hlt'><div class='no'>369</div><div class='cd'>            throw new \InvalidArgumentException(sprintf('The HTTP status code &quot;%s&quot; is not valid.', $code));</div></li><li><div class='no'>370</div><div class='cd'>        }</div></li><li><div class='no'>371</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-40'> <header> <h3> <a href='#p-40' class='indx'>#41</a> Avoid using static access to class <span class='hlt-info quoted'>'\DateTimeImmutable'</span> in <span class='hlt-info method'>method 'setDate'</span>. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/App/Http/Response/Response.php' target='_blank'>/home/masry/www/scandiweb-backend/src/App/Http/Response/<span class='path-basename'>Response.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-40-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-40-code'><li><div class='no'>443</div><div class='cd'>    {</div></li><li><div class='no'>444</div><div class='cd'>        if ($date instanceof \DateTime) {</div></li><li class='hlt'><div class='no'>445</div><div class='cd'>            $date = \DateTimeImmutable::createFromMutable($date);</div></li><li><div class='no'>446</div><div class='cd'>        }</div></li><li><div class='no'>447</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-41'> <header> <h3> <a href='#p-41' class='indx'>#42</a> The <span class='hlt-info method'>method decode</span> has a boolean flag argument <span class='hlt-info variable'>$wantsArray</span>, which is a certain sign of a Single Responsibility Principle violation. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#booleanargumentflag' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/Util/JSON.php' target='_blank'>/home/masry/www/scandiweb-backend/src/Util/<span class='path-basename'>JSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-41-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-41-code'><li><div class='no'>43</div><div class='cd'>     * @throws JsonDecodeException If the decoding failed</div></li><li><div class='no'>44</div><div class='cd'>     */</div></li><li class='hlt'><div class='no'>45</div><div class='cd'>    public static function decode(string $data, bool $wantsArray = false)</div></li><li><div class='no'>46</div><div class='cd'>    {</div></li><li><div class='no'>47</div><div class='cd'>        $decodedData = json_decode($data, $wantsArray);</div></li></ul> </section>
 <section class='prb' id='p-42'> <header> <h3> <a href='#p-42' class='indx'>#43</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/Util/ReportSpecificErrorsWrapper.php' target='_blank'>/home/masry/www/scandiweb-backend/src/Util/<span class='path-basename'>ReportSpecificErrorsWrapper.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-42-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-42-code'><li><div class='no'>32</div><div class='cd'>                    json_encode([</div></li><li><div class='no'>33</div><div class='cd'>                        &quot;code&quot;      =&gt; Response::HTTP_UNPROCESSABLE_ENTITY,</div></li><li class='hlt'><div class='no'>34</div><div class='cd'>                        &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_UNPROCESSABLE_ENTITY],</div></li><li><div class='no'>35</div><div class='cd'>                        &quot;error&quot;     =&gt; &quot;Invalid input\n&quot; . $exception-&gt;getMessage(),</div></li><li><div class='no'>36</div><div class='cd'>                    ])</div></li></ul> </section>
 <section class='prb' id='p-43'> <header> <h3> <a href='#p-43' class='indx'>#44</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/Util/ReportSpecificErrorsWrapper.php' target='_blank'>/home/masry/www/scandiweb-backend/src/Util/<span class='path-basename'>ReportSpecificErrorsWrapper.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-43-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-43-code'><li><div class='no'>46</div><div class='cd'>                    json_encode([</div></li><li><div class='no'>47</div><div class='cd'>                        &quot;code&quot;      =&gt; Response::HTTP_BAD_REQUEST,</div></li><li class='hlt'><div class='no'>48</div><div class='cd'>                        &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_BAD_REQUEST],</div></li><li><div class='no'>49</div><div class='cd'>                        &quot;error&quot;     =&gt; $exception-&gt;getMessage(),</div></li><li><div class='no'>50</div><div class='cd'>                    ])</div></li></ul> </section>
 <section class='prb' id='p-44'> <header> <h3> <a href='#p-44' class='indx'>#45</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/Util/ReportSpecificErrorsWrapper.php' target='_blank'>/home/masry/www/scandiweb-backend/src/Util/<span class='path-basename'>ReportSpecificErrorsWrapper.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-44-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-44-code'><li><div class='no'>59</div><div class='cd'>                    json_encode([</div></li><li><div class='no'>60</div><div class='cd'>                        &quot;code&quot;      =&gt; Response::HTTP_BAD_REQUEST,</div></li><li class='hlt'><div class='no'>61</div><div class='cd'>                        &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_BAD_REQUEST],</div></li><li><div class='no'>62</div><div class='cd'>                        &quot;errors&quot;    =&gt; $exception-&gt;getMessages(),</div></li><li><div class='no'>63</div><div class='cd'>                    ])</div></li></ul> </section>
 <section class='prb' id='p-45'> <header> <h3> <a href='#p-45' class='indx'>#46</a> Avoid using undefined variables such as <span class='hlt-info quoted'>'$statusTexts'</span> which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///home/masry/www/scandiweb-backend/src/Util/ReportSpecificErrorsWrapper.php' target='_blank'>/home/masry/www/scandiweb-backend/src/Util/<span class='path-basename'>ReportSpecificErrorsWrapper.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-45-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-45-code'><li><div class='no'>71</div><div class='cd'>                    json_encode([</div></li><li><div class='no'>72</div><div class='cd'>                        &quot;code&quot;      =&gt; Response::HTTP_INTERNAL_SERVER_ERROR,</div></li><li class='hlt'><div class='no'>73</div><div class='cd'>                        &quot;status&quot;    =&gt; Response::$statusTexts[Response::HTTP_INTERNAL_SERVER_ERROR],</div></li><li><div class='no'>74</div><div class='cd'>                        &quot;error&quot;     =&gt; $this-&gt;convertExceptionToArray($exception)</div></li><li><div class='no'>75</div><div class='cd'>                    ])</div></li></ul> </section>
</div></body></html>